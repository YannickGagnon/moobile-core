(function(a){var b={},c=function(d){var e=b[d];if(!e){e=b[d]={};var f=e.exports={};a[d].call(f,c,e,f,window)}return e.exports};window.moobile=c("0")})({0:function(a,b,c,d){"use strict";var e={version:"0.3.0-dev"};e.Component=a("1")},1:function(a,b,c,d){"use strict",a("2"),a("7"),a("a"),a("b"),a("c"),a("d"),a("e");var e=a("f"),f=new Class({Extends:e,_name:null,_built:null,_ready:!1,_window:null,_parent:null,_children:[],_visible:!0,_display:!0,_style:null,_events:{listeners:{},callbacks:{}},_size:{x:0,y:0},_updateLayout:!1,_updateLayoutTimer:null,element:null,options:{className:null,styleName:null,tagName:"div",components:null},initialize:function(a,b,c){this.element=Element.from(a),this.element===null&&(this.element=this.create()),this._name=c||this.element.get("data-name"),b=b||{};for(var d in this.options)if(b[d]===undefined){var e=this.element.get("data-option-"+d.hyphenate());if(e!==null){try{e=JSON.parse(e)}catch(f){}b[d]=e}}this.setOptions(b),this.element.store("moobile:component",this);var g=this.element,h=document.contains(this.element);return h&&(this.element=this.element.clone(!0,!0)),this._willBuild(),this._build(),this._built=!0,this._didBuild(),h&&this.element.replaces(g),this},create:function(){return document.createElement(this.options.tagName)},_build:function(){var a=this,b=this.__roles__,c=this.__attributes__;for(var d in c){var e=this.element.get(d);if(e!==null){var f=c[d];f instanceof Function&&f.call(this,e)}}var g=this.options.className;g&&this.addClass(g);var h=this.options.styleName;h&&this.setStyle(h),this.getRoleElements().each(function(c){var d=b[c.getRole()].handler;d instanceof Function&&d.call(a,c)}),this.build&&(this.build.call(this),console.log('[DEPRECATION NOTICE] The method "build" will be removed in 0.5, use the "_build" method instead'))},_willBuild:function(){this.willBuild()},_didBuild:function(){var a=this.options.components;a&&this.addChildComponents(a),this.didBuild()},addEvent:function(a,b,c){var d=a.split(":")[0];if(this.shouldSupportNativeEvent(d)){var e=this,f=this._events.listeners,g=this._events.callbacks;g[d]===undefined&&(g[d]=[],f[d]=function(a){e.fireEvent(d,a)}),g[d].include(b),g[d].length===1&&this.element.addEvent(d,f[d])}return this.parent(a,b,c)},removeEvent:function(a,b){if(this.shouldSupportNativeEvent(a)){var c=this._events.listeners,d=this._events.callbacks;d[a]&&d[a].contains(b)&&(d[a].erase(b),d[a].length===0&&(this.element.removeEvent(a,c[a]),delete c[a],delete d[a]))}return this.parent(a,b)},shouldSupportNativeEvent:function(a){return["click","dblclick","mouseup","mousedown","mouseover","mouseout","mousemove","keydown","keypress","keyup","touchstart","touchmove","touchend","touchcancel","gesturestart","gesturechange","gestureend","tap","tapstart","tapmove","tapend","pinch","swipe","touchold","animationend","transitionend","owntransitionend","ownanimationend"].contains(a)},addChildComponent:function(a,b){return this._addChildComponent(a,null,b)},addChildComponentInside:function(a,b,c){return this._addChildComponent(a,document.id(b)||this.getElement(b),c)},addChildComponentAfter:function(a,b){return this._addChildComponent(a,b,"after")},addChildComponentBefore:function(a,b){return this._addChildComponent(a,b,"before")},addChildComponentAt:function(a,b){b>this._children.length?b=this._children.length:b<0&&(b=0);var c=this.getChildComponentAt(b);return c?this.addChildComponentBefore(a,c):this.addChildComponent(a,"bottom")},_addChildComponent:function(a,b,c){return a.removeFromParentComponent(),b?b=document.id(b)||this.element.getElement(b):b=this.element,this._willAddChildComponent(a),this._inject(a,b,c),this._insert(a),a._setParent(this),a._setWindow(this._window),this._didAddChildComponent(a),this._ready&&a._setReady(!0),this._setUpdateLayout(!0),this},addChildComponents:function(a,b){return this._addChildComponents(a,null,b)},addChildComponentsInside:function(a,b,c){return this._addChildComponents(a,document.id(b)||this.getElement(b),c)},addChildComponentsAfter:function(a,b){return this._addChildComponents(a,b,"after")},addChildComponentsBefore:function(a,b){return this._addChildComponents(a,b,"before")},_addChildComponents:function(a,b,c){a.invoke("removeFromParentComponent"),b?b=document.id(b)||this.element.getElement(b):b=this.element;var d=document.createDocumentFragment();for(var e=0,f=a.length;e<f;e++){var g=a[e];this._willAddChildComponent(g),this._inject(g,b,null,d)}switch(c){case"top":var h=b.firstChild;if(h){b.insertBefore(d,h);break}b.appendChild(d);break;case"after":var i=b.parentNode;if(i){var j=b.nextSibling;if(j){i.insertBefore(d,j);break}i.appendChild(d)}break;case"before":var i=b.parentNode;i&&i.insertBefore(d,b);break;case"bottom":b.appendChild(d);break;default:b.appendChild(d)}for(var e=0,f=a.length;e<f;e++){var g=a[e];this._insert(g),g._setParent(this),g._setWindow(this._window),this._didAddChildComponent(g),this._ready&&g._setReady(!0)}return this._setUpdateLayout(!0),this},_willAddChildComponent:function(a){this.willAddChildComponent(a)},_didAddChildComponent:function(a){this.didAddChildComponent(a)},_inject:function(a,b,c,d){var e=a.getElement();if(c||this.hasElement(e)===!1)d?d.appendChild(e):e.inject(b,c);return this},_insert:function(a){var b=0,c=document.id(a);do{var d=c.previousSibling;if(d===null){c=c.parentNode;if(c===this.element)break;continue}c=d;if(c.nodeType!==1)continue;var e=c.retrieve("moobile:component");if(e){b=this.getChildComponentIndex(e)+1;break}var f=c.childNodes;if(f.length){var h=g.call(this,c);if(h!==null){b=h;break}}}while(c);return this._children.splice(b,0,a),this},getChildComponent:function(a){return this._children.find(function(b){return b.getName()===a})},getChildComponentByType:function(a,b){return this._children.find(function(c){return c instanceof a&&c.getName()===b})},getChildComponentAt:function(a){return this._children[a]||null},getChildComponentByTypeAt:function(a,b){return this.getChildComponentsByType(a)[b]||null},getChildComponentIndex:function(a){return this._children.indexOf(a)},getChildComponents:function(){return this._children},getChildComponentsByType:function(a){return this._children.filter(function(b){return b instanceof a})},hasChildComponent:function(a){return this._children.contains(a)},hasChildComponentByType:function(a){return this._children.some(function(b){return b instanceof a})},getComponent:function(a){var b=this.getChildComponent(a);if(b===null)for(var c=0,d=this._children.length;c<d;c++){var e=this._children[c].getComponent(a);if(e)return e}return b},getComponentByType:function(a,b){var c=this.getChildComponentByType(a,b);if(c===null)for(var d=0,e=this._children.length;d<e;d++){var f=this._children[d].getComponentByType(a,b);if(f)return f}return c},hasComponent:function(a){var b=this.hasChildComponent(a);if(b===!1)for(var c=0,d=this._children.length;c<d;c++){var e=this._children[c].hasComponent(a);if(e)return e}return b},hasComponentByType:function(a,b){var c=this.hasChildComponentByType(a,b);if(c===!1)for(var d=0,e=this._children.length;d<e;d++){var f=this._children[d].hasComponentByType(a,b);if(f)return f}return c},replaceChildComponent:function(a,b,c){return this.addChildComponentBefore(b,a).removeChildComponent(a,c),this},replaceWithComponent:function(a,b){var c=this.getParentComponent();return c&&c.replaceChildComponent(this,a,b),this},removeChildComponent:function(a,b){if(this.hasChildComponent(a)===!1)return this;this._willRemoveChildComponent(a);var c=a.getElement();return c&&c.dispose(),this._children.erase(a),a._setParent(null),a._setWindow(null),a._setReady(!1),this._didRemoveChildComponent(a),b&&a.destroy(),this._setUpdateLayout(!0),this},removeAllChildComponents:function(a){return this.removeAllChildComponentsByType(f,a)},removeAllChildComponentsByType:function(a,b){return this._children.filter(function(b){return b instanceof a}).invoke("removeFromParentComponent",b),this},removeFromParentComponent:function(a){var b=this.getParentComponent();return b&&b.removeChildComponent(this,a),this},_willRemoveChildComponent:function(a){this.willRemoveChildComponent(a)},_didRemoveChildComponent:function(a){this.didRemoveChildComponent(a)},_setParent:function(a){return this._parent===a?this:(this._parentComponentWillChange(a),this._parent=a,this._parentComponentDidChange(a),this)},_parentComponentWillChange:function(a){this.parentComponentWillChange(a)},_parentComponentDidChange:function(a){a?this._display&&(this._visible=this._isVisible()):this._visible=this._display,this.parentComponentDidChange(a)},getParentComponent:function(){return this._parent},hasParentComponent:function(){return!!this._parent},_setWindow:function(a){return this._window===a?this:(this._windowWillChange(a),this._window=a,this._windowDidChange(a),this._children.invoke("_setWindow",a),this)},_windowWillChange:function(a){this.windowWillChange(a)},_windowDidChange:function(a){this.windowDidChange(a)},getWindow:function(){return this._window},hasWindow:function(){return!!this._window},_setReady:function(a){return this._ready===a?this:(this._willChangeReadyState(),this._ready=a,this._didChangeReadyState(),this._children.invoke("_setReady",a),this.fireEvent("ready"),this._setUpdateLayout(a),this)},_willChangeReadyState:function(){},_didChangeReadyState:function(){this._ready&&this.didBecomeReady()},isReady:function(){return this._ready},isBuilt:function(){return this._built},getName:function(){return this._name},setStyle:function(a){this._style&&(this._style.detach.call(this,this.element),this._style=null);var b=f.getStyle(a,this);return b&&b.attach.call(this,this.element),this._style=b,this._setUpdateLayout(!0),this},getStyle:function(){return this._style?this._style.name:null},hasStyle:function(a){return this._style?this._style.name===a:!1},addClass:function(a){return this.element.hasClass(a)===!1&&(this.element.addClass(a),this._setUpdateLayout(!0)),this},removeClass:function(a){return this.element.hasClass(a)===!0&&(this.element.removeClass(a),this._setUpdateLayout(!0)),this},toggleClass:function(a,b){return this.element.toggleClass(a,b),this._setUpdateLayout(!0),this},hasClass:function(a){return this.element.hasClass(a)},getElements:function(a){return this.element.getElements(a||"*")},getElement:function(a){return a?this.element.getElement(a):this.element},hasElement:function(a){return this.element===document.id(a)||this.element.contains(document.id(a))},getRoleElement:function(a){return this.getRoleElements(a,1)[0]||null},getRoleElements:function(a,b){var c=this.__roles__,d=[],e=function(f){if(b&&b<=d.length)return;var g=f.childNodes;for(var h=0,i=g.length;h<i;h++){var j=g[h];if(j.nodeType!==1)continue;var k=j.getRole();if(k===null){e(j);continue}var l=c[k];if(l){(a===k||!a)&&d.push(j);if(l.options.traversable){e(j);continue}}}};return e(this.element),d},setSize:function(a,b){return(a>0||a===null)&&this.element.setStyle("width",a),(b>0||b===null)&&this.element.setStyle("height",b),(this._size.x!==a||this._size.y!==b)&&this._setUpdateLayout(!0),this._size.x=a,this._size.y=b,this},getSize:function(){return this.element.getSize()},getPosition:function(a){return this.element.getPosition(document.id(a)||this._parent)},show:function(){return this._display===!0||this._visible===!0?this:(this._display=!0,this._willShow(),this.removeClass("hidden"),this._didShow(),this._setUpdateLayout(!0),this)},_willShow:function(){if(this._display===!1||this._visible===!0)return;this.willShow(),this._children.invoke("_willShow")},_didShow:function(){if(this._display===!1||this._visible===!0)return;this._visible=!0,this.didShow(),this.fireEvent("show"),this._children.invoke("_didShow")},hide:function(){return this._display===!1?this:(this._willHide(),this.addClass("hidden"),this._didHide(),this._display=!1,this._setUpdateLayout(!1),this)},_willHide:function(){if(this._display===!1||this._visible===!1)return;this.willHide(),this._children.invoke("_willHide")},_didHide:function(){if(this._display===!1||this._visible===!1)return;this._visible=!1,this.didHide(),this.fireEvent("hide"),this._children.invoke("_didHide")},isVisible:function(){return this._visible},_isVisible:function(){return this._display?this._parent?this._parent._isVisible():!0:!1},_setUpdateLayout:function(a,b){return a=a&&this._built&&this._ready&&this._display&&this._visible,this._updateLayout===a?this:(this._updateLayout=a,this._updateLayoutTimer&&(this._updateLayoutTimer=cancelAnimationFrame(this._updateLayoutTimer)),this._updateLayout&&!b&&(this._updateLayoutTimer=requestAnimationFrame(this._didUpdateLayout.bind(this))),this._children.invoke("_setUpdateLayout",a,this),this)},_didUpdateLayout:function(){this._updateLayoutTimer&&(this._updateLayoutTimer=cancelAnimationFrame(this._updateLayoutTimer)),this._updateLayout&&(this._updateLayout=!1,this.didUpdateLayout(),this.fireEvent("layout")),this._children.invoke("_didUpdateLayout")},willBuild:function(){},didBuild:function(){},didBecomeReady:function(){},didUpdateLayout:function(){},willAddChildComponent:function(a){},didAddChildComponent:function(a){},willRemoveChildComponent:function(a){},didRemoveChildComponent:function(a){},parentComponentWillChange:function(a){},parentComponentDidChange:function(a){},windowWillChange:function(a){},windowDidChange:function(a){},willShow:function(){},willHide:function(){},didShow:function(){},didHide:function(){},destroy:function(){return this.removeAllChildComponents(!0),this.removeFromParentComponent(),this.element.destroy(),this.element=null,this._window=null,this._parent=null,this},toElement:function(){return this.element},setParentComponent:function(a){return console.log('[DEPRECATION NOTICE] The method "setParentComponent" will be removed in 0.5, this is not part of the public API anymore'),this._setParent(a)},setWindow:function(a){return console.log('[DEPRECATION NOTICE] The method "setWindow" will be removed in 0.5, this is not part of the public API anymore'),this._setWindow(a)},setReady:function(a){return console.log('[DEPRECATION NOTICE] The method "setReady" will be removed in 0.5, this is not part of the public API anymore'),this._setReady(a)},eventIsNative:function(a){return console.log('[DEPRECATION NOTICE] The method "eventIsNative" will be removed in 0.6, use the method "shouldSupportNativeEvent" instead.'),this.shouldSupportNativeEvent(a)},getChildComponentOfType:function(a,b){return console.log('[DEPRECATION NOTICE] The method "getChildComponentOfType" will be removed in 0.5, use the method "getChildComponentByType" instead.'),this.getChildComponentByType(a,b)},getChildComponentOfTypeAt:function(a,b){return console.log('[DEPRECATION NOTICE] The method "getChildComponentOfTypeAt" will be removed in 0.5, use the method "getChildComponentByTypeAt" instead.'),this.getChildComponentByTypeAt(a,b)},getChildComponentsOfType:function(a){return console.log('[DEPRECATION NOTICE] The method "getChildComponentsOfType" will be removed in 0.5, use the method "getChildComponentsByType" instead.'),this.getChildComponentsByType(a)},hasChildComponentOfType:function(a){return console.log('[DEPRECATION NOTICE] The method "hasChildComponentOfType" will be removed in 0.5, use the method "hasChildComponentByType" instead.'),this.hasChildComponentByType(a)},getDescendantComponent:function(a){return console.log('[DEPRECATION NOTICE] The method "getDescendantComponent" will be removed in 0.5, use the method "getComponent" instead.'),this.getComponent(a)},getComponentOfType:function(a,b){return console.log('[DEPRECATION NOTICE] The method "getComponentOfType" will be removed in 0.5, use the method "getComponentByType" instead.'),this.getComponentByType(a,b)},hasComponentOfType:function(a,b){return console.log('[DEPRECATION NOTICE] The method "hasComponentOfType" will be removed in 0.5, use the method "hasComponentByType" instead.'),this.hasComponentByType(a,b)}}),g=function(a){var b=a.lastChild;do{if(b.nodeType!==1){b=b.previousSibling;if(b===null)return 0;continue}var c=b.retrieve("moobile:component");if(c)return this.getChildComponentIndex(c)+1;var d=b.childNodes;if(d.length){var e=g.call(this,b);if(e>=0)return e}b=b.previousSibling}while(b);return null};f.defineRole=function(a,b,c,d){b=(b||f).prototype,b.__roles__===undefined&&(b.__roles__={});if(c)switch(typeof c){case"function":d=c,c={};break;case"object":typeof c.behavior=="function"&&(d=c.behavior)}b.__roles__[a]={handler:d||function(){},options:c||{}}},f.defineAttribute=function(a,b,c){b=(b||f).prototype,b.__attributes__===undefined&&(b.__attributes__={}),b.__attributes__[a]=c},f.defineStyle=function(a,b,c){var d=(b||f).prototype;d.__styles__===undefined&&(d.__styles__={}),d.__styles__[a]=Object.append({name:a,attach:function(){},detach:function(){}},c)},f.getStyle=function(a,b){return b.__styles__?b.__styles__[a]:null},f.create=function(a,b,c,d,e){b=Element.from(b);if(c){var f=b.get(c);if(f){var g=Class.instantiate(f,b,d,e);if(g instanceof a)return g}}return new a(b,d,e)},f.defineAttribute("data-style",null,function(a){this.options.styleName=a}),b.exports=f},2:function(a,b,c,d){"use strict",a("3"),a("5"),a("6")},3:function(a,b,c,d){"use strict";var e=a("4").createStorage(),f={},g=Element.prototype.dispatchEvent,h=Element.prototype.addEventListener,i=Element.prototype.removeEventListener;Element.prototype.dispatchEvent=function(a,b){var c=f[a];if(c){b=b||{};if(n(c.condition,this,b))return;var d=a;a=document.createEvent("CustomEvent"),a.initCustomEvent(d,c.bubbleable,c.cancelable),c.onDispatch.call(this,a,b)}return g.call(this,a)},Element.prototype.addEventListener=function(a,b,c){var d=f[a];if(d){d.onAdd.call(this),b=r(this,a,b);var e=l(d);e&&h.call(this,e,q(this,a,b),c)}return h.call(this,a,b,c)},Element.prototype.removeEventListener=function(a,b,c){var d=f[a];if(d){d.onRemove.call(this),b=r(this,a,b);var e=l(d);e&&i.call(this,e,q(this,a,b),c),p(this,a,b)}return i.call(this,a,b,c)};var j=function(a,b){b.base="base"in b?b.base:null,b.condition="condition"in b?b.condition:!0,b.bubbleable="bubbleable"in b?b.bubbleable:!0,b.cancelable="cancelable"in b?b.cancelable:!0,b.onAdd=b.onAdd||function(){},b.onRemove=b.onRemove||function(){},b.onDispatch=b.onDispatch||function(){};var c=f[b.base],d=function(a){return m(c.condition,this,a)&&m(b.condition,this,a)};f[a]=c?{base:c.base,bubbleable:b.bubbleable,cancelable:b.cancelable,condition:d,onAdd:k(b,c,"onAdd"),onRemove:k(b,c,"onRemove"),onDispatch:k(b,c,"onDispatch")}:b},k=function(a,b,c){return function(){b[c].apply(this,arguments),a[c].apply(this,arguments)}},l=function(a){var b=a.base;if(b===null)return null;var c=f[b];return c?l(c):b},m=function(a,b,c){return typeof a=="function"?a.call(b,c):a},n=function(a,b,c){return!m(a,b,c)},o=function(a,b,c){var d=e(a);d[b]===undefined&&(d[b]=[]),d=d[b];for(var f=0,g=d.length;f<g;f++){var h=d[f];if(h.listener===c)return h}return h=d[d.length]={dispatch:null,validate:null,listener:c},h},p=function(a,b,c){var d=e(a);if(d[b]===undefined)return;d=d[b];for(var f=0,g=d.length;f<g;f++){var h=d[f];h.listener===c&&d.splice(f,1)}return h},q=function(a,b,c){var d=o(a,b,c);return d.dispatch===null&&(d.dispatch=function(c){a.dispatchEvent(b,c)}),d.dispatch},r=function(a,b,c){var d=o(a,b,c);return d.validate===null&&(d.validate=function(a){a instanceof CustomEvent&&c.call(this,a)}),d.validate};b.exports=d.defineCustomEvent=j},4:function(require,module,exports,global){void function(a,b,c){function j(a,b,c){return typeof b=="function"&&(c=b,b=k(c).replace(/_$/,"")),e(a,b,{configurable:!0,writable:!0,value:c})}function k(a){return typeof a!="function"?"":"name"in a?a.name:f.call(a).match(i)[1]}function o(a){function d(d,e){return e||arguments.length===2?b.set(d,e):(e=b.get(d),e===c&&(e=a(d),b.set(d,e))),e}var b=new m;return a||(a=n),d}var d=Object.getOwnPropertyNames,e=Object.defineProperty,f=Function.prototype.toString,g=Object.create,h=Object.prototype.hasOwnProperty,i=/^\n?function\s?(\w*)?_?\(/,l=function(){function m(){var c=i(),d={};this.unlock=function(f){var i=l(f);if(h.call(i,c))return i[c](d);var j=g(null,a);return e(i,c,{value:(new Function("s","l",b))(d,j)}),j}}var a={value:{writable:!0,value:c}},b="return function(k){if(k===s)return l}",f=g(null),i=function(){var a=Math.random().toString(36).slice(2);return a in f?i():f[a]=a},k=i(),l=function(a){if(h.call(a,k))return a[k];if(!Object.isExtensible(a))throw new TypeError("Object must be extensible");var b=g(null);return e(a,k,{value:b}),b};return j(Object,function(b){var c=d(b);return h.call(b,k)&&c.splice(c.indexOf(k),1),c}),j(m.prototype,function(b){return this.unlock(b).value}),j(m.prototype,function(b,c){this.unlock(b).value=c}),m}(),m=function(d){function i(b){if(this===a||this==null||this===i.prototype)return new i(b);f(this,new l),h(this,b)}function m(a){e(a);var d=g(this).get(a);return d===b?c:d}function n(a,d){e(a),g(this).set(a,d===c?b:d)}function o(a){return e(a),g(this).get(a)!==c}function p(a){e(a);var b=g(this),d=b.get(a)!==c;return b.set(a,c),d}function q(){return g(this),"[object WeakMap]"}var e=function(a){if(a==null||typeof a!="object"&&typeof a!="function")throw new TypeError("Invalid WeakMap key")},f=function(a,b){var c=d.unlock(a);if(c.value)throw new TypeError("Object is already a WeakMap");c.value=b},g=function(a){var b=d.unlock(a).value;if(!b)throw new TypeError("WeakMap is not generic");return b},h=function(a,b){b!==null&&typeof b=="object"&&typeof b.forEach=="function"&&b.forEach(function(c,d){c instanceof Array&&c.length===2&&n.call(a,b[d][0],b[d][1])})};try{var r=("return "+p).replace("e_","\\u0065"),s=(new Function("unwrap","validate",r))(g,e)}catch(t){var s=p}var r=(""+Object).split("Object"),u=function w(){return r[0]+k(this)+r[1]};j(u,u);var v={__proto__:[]}instanceof Array?function(a){a.__proto__=u}:function(a){j(a,u)};return v(i),[q,m,n,o,s].forEach(function(a){j(i.prototype,a),v(a)}),i}(new l),n=Object.create?function(){return Object.create(null)}:function(){return{}};typeof module!="undefined"?module.exports=m:typeof exports!="undefined"?exports.WeakMap=m:"WeakMap"in a||(a.WeakMap=m),m.createStorage=o,a.WeakMap&&(a.WeakMap.createStorage=o)}((0,eval)("this"))},5:function(a,b,c,d){"use strict";var e=a("3"),f=document.createElement("div"),g=null,h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(var i in h)i in f.style&&(g=h[i]);var j=function(a,b){a.propertyName=b.propertyName,a.elapsedTime=b.elapsedTime,a.pseudoElement=b.pseudoElement};e("transitionend",{base:g,onDispatch:j}),e("owntransitionend",{base:"transitionend",condition:function(a){return a.target===this}})},6:function(a,b,c,d){"use strict";var e=a("3"),f=document.createElement("div"),g=null,h={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var i in h)i in f.style&&(g=h[i]);var j=function(a,b){a.animationName=b.animationName,a.elapsedTime=b.elapsedTime};e("animationend",{base:g,onDispatch:j}),e("ownanimationend",{base:"animationend",condition:function(a){return a.target===this}})},7:function(a,b,c,d){"use strict",a("8"),a("9")},8:function(a,b,c,d){"use strict";var e="ontouchstart"in d,f="TouchList"in d,g="Touch"in d;if(!f){var h=function(){this.length=0};h.prototype.identifiedTouch=function(a){return this[0]&&this[0].identifier===a?this[0]:null},h.prototype.item=function(a){return this[a]||null}}if(!g)var i=function(){};var j=null,k=null,l=function(a){if(k===null){k=a.target,j=new i,j.identifier=Date.now(),j.screenX=a.screenX,j.screenY=a.screenY,j.clientX=a.clientX,j.clientY=a.clientY,j.pageX=a.pageX,j.pageY=a.pageY,j.radiusX=0,j.radiusY=0,j.rotationAngle=0,j.force=0,j.target=k;var b=new h;b.length=1,b[0]=j;var c=document.createEvent("CustomEvent");c.initCustomEvent("touchstart",!0,!0),c.touches=b,c.targetTouches=b,c.changedTouches=b,k.dispatchEvent(c)}},m=function(a){if(k){j.screenX=a.screenX,j.screenY=a.screenY,j.clientX=a.clientX,j.clientY=a.clientY,j.pageX=a.pageX,j.pageY=a.pageY;var b=new h;b.length=1,b[0]=j;var c=document.createEvent("CustomEvent");c.initCustomEvent("touchmove",!0,!0),c.touches=b,c.targetTouches=b,c.changedTouches=b,k.dispatchEvent(c)}},n=function(a){if(k){j.screenX=a.screenX,j.screenY=a.screenY,j.clientX=a.clientX,j.clientY=a.clientY,j.pageX=a.pageX,j.pageY=a.pageY;var b=new h;b.length=1,b[0]=j;var c=document.createEvent("CustomEvent");c.initCustomEvent("touchend",!0,!0),c.touches=new h,c.targetTouches=new h,c.changedTouches=b,k.dispatchEvent(c),k=null}};e||(document.addEventListener("mousedown",l),document.addEventListener("mousemove",m),document.addEventListener("mouseup",n))},9:function(a,b,c,d){"use strict";var e=a("4")(),f=a("3"),g=function(a,b){a.view=b.view,a.touches=b.touches,a.targetTouches=b.targetTouches,a.changedTouches=b.changedTouches,a.ctrlKey=b.ctrlKey,a.shiftKey=b.shiftKey,a.altKey=b.altKey,a.metaKey=b.metaKey},h=function(a,b){return a===b||a.contains(b)},i=function(a,b,c){var d=document.elementFromPoint(a,b);return d?h(c,d):!1},j=function(a,b,c){var d=document.elementFromPoint(a,b);return d?!h(c,d):!0},k=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},l=function(a,b){return function(){this.addEventListener(a,b)}},m=function(a,b){return function(){this.removeEventListener(a,b)}},n=function(a,b){var c=e.get(a);return c||e.set(a,c={}),c},o=function(a,b){var c=n(a),d=b.identifier;return c[d]===undefined||c[d]==="out"?(c[d]="in",!0):!1},p=function(a,b){var c=n(a),d=b.identifier;return c[d]===undefined||c[d]==="in"?(c[d]="out",!0):!1},q=function(a){this.dispatchEvent("tapenter",a)},r=function(a){this.dispatchEvent("tapleave",a)},s={onDispatch:g};f("tapstart",k(s,{base:"touchstart",condition:function(a){return a.targetTouches.length===1}})),f("tapmove",k(s,{base:"touchmove",condition:function(a){return a.targetTouches[0]===a.changedTouches[0]}})),f("tapend",k(s,{base:"touchend",condition:function(a){return a.targetTouches.length===0}})),f("tapcancel",k(s,{base:"touchcancel",condition:function(a){return!0}})),f("tap",k(s,{base:"tapend",condition:function(a){var b=a.changedTouches[0];return i(b.pageX,b.pageY,this)}})),f("tapinside",k(s,{base:"tapmove",condition:function(a){var b=a.targetTouches[0];return i(b.pageX,b.pageY,this)}})),f("tapoutside",k(s,{base:"tapmove",condition:function(a){var b=a.targetTouches[0];return j(b.pageX,b.pageY,this)}})),f("tapenter",k(s,{base:"tapinside",condition:function(a){return o(this,a.targetTouches[0])},onAdd:l("tapstart",q),onRemove:m("tapstart",q)})),f("tapleave",k(s,{base:"tapoutside",condition:function(a){return p(this,a.targetTouches[0])},onAdd:l("tapend",r),onRemove:m("tapend",r)}))},a:function(a,b,c,d){"use strict";var e={};Element.at=function(a,b,c){var d=e[a];if(d){var f=d.clone(!0,!0);return c&&c(f),f}return b=b||!1,(new Moobile.Request({method:"get",async:b,url:a})).addEvent("success",function(a){d=Element.from(a),c&&c(d.clone(!0,!0))}).addEvent("failure",function(a){c&&c(null)}).send(),d&&(e[a]=d),b?null:d.clone(!0,!0)}},b:function(a,b,c,d){"use strict",Element.from=function(a){switch(typeof a){case"object":return document.id(a);case"string":var b=document.createElement("div");return b.innerHTML=a,b.childNodes[0]||null}return null}},c:function(a,b,c,d){"use strict";var e=Element.prototype.setStyle,f=Element.prototype.getStyle,g=function(a){a=a.camelCase();if(a in this.style)return a;if(i[a]!==undefined)return i[a];var b=a.charAt(0).toUpperCase()+a.slice(1);for(var c=0;c<h.length;c++){var d=h[c]+b;if(d in this.style){i[a]=d;break}}return i[a]===undefined&&(i[a]=a),i[a]},h=["Khtml","O","Ms","Moz","Webkit"],i={};Element.implement({setStyle:function(a,b){return e.call(this,g.call(this,a),b)},getStyle:function(a){return f.call(this,g.call(this,a))}})},d:function(a,b,c,d){"use strict",Request.prototype.options.isSuccess=function(){var a=this.status;return a===0||a>=200&&a<300}},e:function(a,b,c,d){"use strict",Element.implement({setRole:function(a){return this.set("data-role",a)},getRole:function(a){return this.get("data-role")},ingest:function(a){return this.adopt(document.id(a).childNodes)}})},f:function(a,b,c,d){"use strict";var e=Events.prototype.fireEvent,f=new Class({Implements:[Events,Options],__bound:{},bound:function(a){var b=this[a];if(typeof b=="function")return this.__bound[a]?this.__bound[a]:this.__bound[a]=b.bind(this);throw new Error("Cannot bind function "+a)},fireEvent:function(a,b,c){return b=Array.from(b).include(this),this.shouldFireEvent(a,b)?(this.willFireEvent(a,b),e.call(this,a,b,c),this.didFireEvent(a,b),this):this},shouldFireEvent:function(a,b){return!0},willFireEvent:function(a,b){},didFireEvent:function(a,b){}});b.exports=f}})
